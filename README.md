## TEAM3 Bikyohaejwo Project

###### ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤.

##### 2023.05.01 ~ 2023.06.26 ë™ì•ˆ Spring Boot, React, Pythonì„ ì‚¬ìš©í•´ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

###### ì €í¬ëŠ” ê¸ˆìœµì •ë³´ ë°ì´í„° ë¶„ì„ ê¸°ë°˜, ëŒ€ì¶œìƒí’ˆ ì¶”ì²œ ì†”ë£¨ì…˜ êµ¬ì¶• ì´ë¼ëŠ” ì£¼ì œë¡œ ì§„í–‰í•˜ì˜€ìŠµë‹ˆë‹¤.

###### ê³¼ì œ1 :  React + java + SpringBoot + JPA + DB [MYSQL]ê¸°ë°˜ì˜ ì›¹ì–´í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ
###### ê³¼ì œ2 : Python ê¸°ë°˜ì˜ ë°ì´í„°ë¶„ì„: ìˆ˜ì§‘(web scraping) + ì •ì œ(pandas) + ë¶„ì„ + ì‹œê°í™”
###### ê³¼ì œ3 : Python ê¸°ë°˜ì˜ ë°ì´í„° ì˜ˆì¸¡: AI ì•Œê³ ë¦¬ì¦˜ (ì„ í˜•íšŒê·€, ë‹¤í•­ ì…˜í˜•íšŒê·€)ì„ í™œìš©í•˜ì—¬ ë°ì´í„° ì˜ˆì¸¡ ì‹œìŠ¤í…œ êµ¬ì¶•

## ğŸ“šëª©ì°¨
* ##### í”„ë¡œì íŠ¸ êµ¬ì¡°
* ##### ì‚¬ìš©ê¸°ìˆ 
* ##### êµ¬í˜„ê¸°ëŠ¥
* ##### ê¸°ëŠ¥ ì‹¤í–‰í™”ë©´
* ##### ELK
* ##### ERDì„¤ê³„
* ##### íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

## âœ“í”„ë¡œì íŠ¸ êµ¬ì¡°
![í”„ë¡œì íŠ¸ êµ¬ì¡°2](https://github.com/Hooddduck/BKHJ-frontend/assets/117276980/76c70d5e-e355-4ab2-a63f-aa0c5910397f)
## âœ“ì‚¬ìš©ê¸°ìˆ 


## âœ“êµ¬í˜„ê¸°ëŠ¥
*  ##### ê²Œì‹œíŒ ê¸°ëŠ¥
    * ###### ëª¨ë“  ê²Œì‹œê¸€ ë° íŠ¹ì • ê²Œì‹œê¸€ ì¡°íšŒ
    * ###### ê²Œì‹œê¸€ ê²€ìƒ‰ (ì œëª©, ì‘ì„±ì, ì‘ì„±ì¼)
    * ###### ê²Œì‹œê¸€ ì‘ì„± [íšŒì›]
    * ###### ê²Œì‹œê¸€ ìˆ˜ì • [íšŒì›, ê²Œì‹œê¸€ ì‘ì„±ì]
    * ###### ê²Œì‹œê¸€ ì‚­ì œ [íšŒì›, ê²Œì‹œê¸€ ì‘ì„±ì]
    * ###### ê²Œì‹œê¸€ ë‹µê¸€ ì‘ì„± [íšŒì›]
    * ###### ê²Œì‹œê¸€ íŒŒì¼ ì—…ë¡œë“œ [íšŒì›]
* ##### ëŒ“ê¸€ ê¸°ëŠ¥
    * ###### ëŒ“ê¸€ ì‘ì„± [íšŒì›]
    * ###### ëŒ“ê¸€ ìˆ˜ì • [íšŒì›]
    * ###### ëŒ“ê¸€ ì‚­ì œ [íšŒì›]
* ##### íŒŒì¼ì—…ë¡œë“œ ê¸°ëŠ¥
    * ###### íŒŒì¼ ì—…ë¡œë“œ [íšŒì›]
    * ###### íŒŒì¼ ë‹¤ìš´ë¡œë“œ
    * ###### íŒŒì¼ ìˆ˜ì • [íšŒì›, ê²Œì‹œê¸€ ì‘ì„±ì]
    * ###### íŒŒì¼ ì‚­ì œ [íšŒì›, ê²Œì‹œê¸€ ì‘ì„±ì]
##### â— íšŒì› ê¸°ëŠ¥
##### â— ë°ì´í„° ë¶„ì„ ê¸°ëŠ¥
##### â— ë°ì´í„° ì˜ˆì¸¡ ê¸°ëŠ¥


## âœ“ê¸°ëŠ¥ ì‹¤í–‰í™”ë©´
### ë©”ì¸í™”ë©´í˜ì´ì§€
![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117276980/b6f6119c-6f5d-439a-9a5a-999c011f3f11)









í™ˆí˜ì´ì§€ í™”ë©´ êµ¬ì„± [React]



![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/23ceeddd-f6ac-4a0c-92c4-9896549a3457)

![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/4a4f0dee-a8c4-4197-872c-b7a07262eabe)

![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/da52b200-8aea-49f8-8709-42a6f9ddcd9d)





íŒŒì¼ DB ë° ê¶Œí•œ ë¶€ì—¬ëŠ” ë”°ë¡œ ì ìš©

[file DB.txt](https://github.com/Hooddduck/BKHJ-frontend/files/11624647/file.DB.txt)





**ê°œë°œ ìˆœì„œ**

íšŒì› ë¡œê·¸ì¸ [token, security] -> ê²Œì‹œíŒ[ back -> front ] ->   ëŒ“ê¸€ [ back -> front] -> íŒŒì¼ [ back -> front] 



**ë¡œê·¸ì¸ êµ¬í˜„ ìˆœì„œ** 

Spring Boot + Spring Security ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œ

ì„¤ëª…: Tokenì„ ì´ìš©í•œ, ë¡œê·¸ì¸/ ë¡œê·¸ì•„ì›ƒ
ì‚¬ìš©ìëŠ” ìƒˆ ê³„ì •ì— ê°€ì…(ë“±ë¡)í•˜ê±°ë‚˜ ì‚¬ìš©ì ì´ë¦„ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ì‚¬ìš©ìì˜ ì—­í• (ê´€ë¦¬ì, ì¤‘ì¬ì, ì‚¬ìš©ì)ì— ë”°ë¼ ì‚¬ìš©ìê°€ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ë¶€ì—¬í•œë‹¤.


![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/3a259be2-a9f3-4c1c-8775-e4a4ea30eeff)


============================================================================
ìŠ¤í”„ë§ ì‹œíë¦¬í‹°

â€“ WebSecurityConfigë³´ì•ˆ êµ¬í˜„ì˜ í•µì‹¬[ë‹¨, í˜„ì¬ filterchainìœ¼ë¡œ ëŒ€ì²´ì¤‘(deprecated)] =>ì…ë‹ˆë‹¤.

ë³´í˜¸ ìì›ì— ëŒ€í•œ cors, csrf, ì„¸ì…˜ ê´€ë¦¬, ê·œì¹™ì„ êµ¬ì„±í•œë‹¤. 

ë˜í•œ ì•„ë˜ ìš”ì†Œë¥¼ í¬í•¨í•˜ëŠ” ê¸°ë³¸ êµ¬ì„±ì„ í™•ì¥í•˜ê³  ì‚¬ìš©ì ì •ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

â€“ ì¸í„°í˜ì´ìŠ¤ì—ëŠ” ì‚¬ìš©ì ì´ë¦„ UserDetailsService ìœ¼ë¡œ Userë¥¼ ë¡œë“œí•˜ëŠ” ë©”ì„œë“œê°€ ìˆìœ¼ë©° Spring Securityê°€ ì¸ì¦ ë° ìœ íš¨ì„± ê²€ì‚¬ì— ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê°œì²´ë¥¼ ë°˜í™˜í•œë‹¤. 

â€“ UserDetailsì¸ì¦ ê°œì²´ë¥¼ êµ¬ì¶•í•˜ëŠ” ë° í•„ìš”í•œ ì •ë³´(ì˜ˆ: ì‚¬ìš©ì ì´ë¦„, ì•”í˜¸, ê¶Œí•œ)ë¥¼ í¬í•¨í•œë‹¤.

â€“ UsernamePasswordAuthenticationToken ë¡œê·¸ì¸ ìš”ì²­ì—ì„œ {ì‚¬ìš©ì ì´ë¦„, ë¹„ë°€ë²ˆí˜¸}ë¥¼ ê°€ì ¸ì˜¤ê³  AuthenticationManagerì´ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸ ê³„ì •ì„ ì¸ì¦í•©ë‹ˆë‹¤.

â€“ ê°œì²´ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•˜ëŠ” AuthenticationManagerì´ ìˆìŠµë‹ˆë‹¤ . ì„±ê³µí•˜ë©´ ì™„ì „íˆ ì±„ì›Œì§„ ì¸ì¦ ê°œì²´(ë¶€ì—¬ëœ ê¶Œí•œ í¬í•¨)ë¥¼ ë°˜í™˜í•œë‹¤. DaoAuthenticationProviderUserDetailsServicePasswordEncoderUsernamePasswordAuthenticationTokenAuthenticationManager

â€“ OncePerRequestFilterAPIì— ëŒ€í•œ ê° ìš”ì²­ì— ëŒ€í•´ ë‹¨ì¼ ì‹¤í–‰ì„ ë§Œë“­ë‹ˆë‹¤. JWT êµ¬ë¬¸ ë¶„ì„ ë° ìœ íš¨ì„± ê²€ì‚¬, ì‚¬ìš©ì ì„¸ë¶€ ì •ë³´ ë¡œë“œ( ì‚¬ìš© ), ì¸ì¦ í™•ì¸( ì‚¬ìš© ) doFilterInternal()ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤ .
[UserDetailsServiceUsernamePasswordAuthenticationToken ì‚¬ìš©]

â€“ AuthenticationEntryPoint [ì¸ì¦ ì˜¤ë¥˜]ë¥¼ í¬ì°©í•©ë‹ˆë‹¤.

- Repositoryì—ëŠ” UserRepositoryì™€ RoleRepositoryê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©°, ì´ë“¤ì€ ë°ì´í„°ë² ì´ìŠ¤ì™€ ì‘ì—…í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ë“¤ì€ Controllerì— importë˜ì–´ ì‚¬ìš©ë©ë‹ˆë‹¤.
- 
- ControllerëŠ” OncePerRequestFilterì— ì˜í•´ í•„í„°ë§ëœ ìš”ì²­ì„ ë°›ì•„ì„œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

AuthControllerëŠ” íšŒì› ê°€ì… ë° ë¡œê·¸ì¸ ìš”ì²­ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

TestControllerëŠ” ì—­í•  ê¸°ë°˜ ê²€ì¦ì„ í†µí•´ ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ì— ì ‘ê·¼í•˜ëŠ” ë©”ì„œë“œë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.

================================================================================

* ì¤‘ìš” React í™”ë©´ì—ì„œ ê¼­ auth-header.jsì— ìˆëŠ” tokenì„ í†µí•´ì„œ apiì—°ê²°ì„ í•´ì•¼ í•©ë‹ˆë‹¤.


ì§€ê¸ˆê¹Œì§€ ë¡œê·¸ì¸ ê´€ë ¨ Backê´€ë ¨ ì„¤ëª…ì´ì˜€ìŠµë‹ˆë‹¤.


React login ê´€ë ¨ front

ë‹¤ìŒê³¼ ê°™ì´ JWT ë° HttpOnly ì¿ í‚¤ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ ë° ë“±ë¡ì´ í¬í•¨ëœ React Hooks ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¹Œë“œí•©ë‹ˆë‹¤.

ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ, íšŒì›ê°€ì… í˜ì´ì§€ê°€ ìˆìŠµë‹ˆë‹¤.
ì–‘ì‹ ë°ì´í„°ëŠ” ë°±ì—”ë“œë¡œ ì „ì†¡ë˜ê¸° ì „ì— í”„ëŸ°íŠ¸ ì—”ë“œì—ì„œ ìœ íš¨ì„±ì„ ê²€ì‚¬í•©ë‹ˆë‹¤.
ì‚¬ìš©ìì˜ ì—­í• (ê´€ë¦¬ì, ì¤‘ì¬ì, ì‚¬ìš©ì)ì— ë”°ë¼ íƒìƒ‰ ëª¨ìŒ í•­ëª©ì´ ìë™ìœ¼ë¡œ ë³€ê²½ë©ë‹ˆë‹¤.

[ìˆœì„œ ì„¤ëª…]

App ì»´í¬ë„ŒíŠ¸ëŠ” React Router (BrowserRouter)ì™€ í•¨ê»˜ ì‚¬ìš©ë˜ëŠ” ì»¨í…Œì´ë„ˆì…ë‹ˆë‹¤. ìƒíƒœì— ë”°ë¼ Navbarì—ì„œ í•­ëª©ì„ í‘œì‹œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Login ë° Register í˜ì´ì§€ì—ëŠ” ë°ì´í„° ì œì¶œì„ ìœ„í•œ í¼ì„ ë§Œë“ ë‹¤. (react-validation ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤). 

ì´ë“¤ í˜ì´ì§€ëŠ” auth.serviceì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ ë¡œê·¸ì¸/íšŒì› ê°€ì… ìš”ì²­ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.

auth.serviceì˜ ë©”ì„œë“œëŠ” HTTP ìš”ì²­ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ axiosë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. 

ë˜í•œ ì´ëŸ¬í•œ ë©”ì„œë“œ ë‚´ì—ì„œ ë¸Œë¼ìš°ì € ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì‚¬ìš©ì í”„ë¡œí•„ì„ ì €ì¥í•˜ê±°ë‚˜ ê°€ì ¸ì˜µë‹ˆë‹¤.

Home í˜ì´ì§€ëŠ” ëª¨ë“  ë°©ë¬¸ìì—ê²Œ ê³µê°œë©ë‹ˆë‹¤.

Profile í˜ì´ì§€ëŠ” ë¡œê·¸ì¸ ì‘ì—…ì´ ì„±ê³µí•œ í›„ì— ì‚¬ìš©ì ì •ë³´ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤.

BoardUser, BoardModerator, BoardAdmin í˜ì´ì§€ëŠ” ì‚¬ìš©ìì˜ ì—­í• ì— ë”°ë¼ í‘œì‹œë©ë‹ˆë‹¤. ì´ë“¤ í˜ì´ì§€ì—ì„œëŠ” user.serviceë¥¼ ì‚¬ìš©í•˜ì—¬ ì›¹ APIì˜ ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•©ë‹ˆë‹¤.

user.serviceì˜ ë©”ì„œë“œëŠ” ë³´í˜¸ëœ ë¦¬ì†ŒìŠ¤ì— ì•¡ì„¸ìŠ¤í•˜ê¸° ìœ„í•´ ì¸ì¦ ìš”ì²­ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ axiosë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤ (HttpOnly ì¿ í‚¤ì— JWTë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤).

[íšŒì›ì •ë³´ ìˆ˜ì •, íšŒì› íƒˆí‡´ ê¸°ëŠ¥ì€ CRUDê¸°ëŠ¥ìœ¼ë¡œ, ê²Œì‹œíŒ ìˆ˜ì • ì‚­ì œë¥¼ í™•ì¸í•˜ì‹œê³  ì‘ìš©ì´ í•„ìš”í•©ë‹ˆë‹¤]

ì½”ë“œëŠ” gitì—ì„œ í™•ì¸ í•„ìš”


![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/e9002347-eab3-4ae1-a4b3-2424b95a847b)



![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/e6ecbb7c-f26b-44eb-9607-d8278b37b2b7)



![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/1c4f7d6b-3474-44b0-8050-106895839a26)



![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/00dfd6f5-bc86-40ec-a178-6e24bffbdb48)



![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/68069adf-2976-4352-9a5b-6a5c4b4ffc54)




![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/6850480c-5b68-4622-b4af-02840ed9c8db)







ë‹¤ìŒìœ¼ë¡œëŠ”,

**ê²Œì‹œíŒ ê´€ë ¨ ìˆœì„œ** ì…ë‹ˆë‹¤.

ê²Œì‹œíŒ backê´€ë ¨ ë¶€ë¶„ì…ë‹ˆë‹¤. í•´ë‹¹ ë¶€ë¶„ì€ ë‹¨ìˆœ CRUD ì´ë¯€ë¡œ, ìˆœì„œë§Œ ì ì–´ë†“ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

application.properties [mysql ë° ì¶”ê°€ ë˜ëŠ” ê¸°ëŠ¥ì— ë”°ë¥¸ ì—°ê²° ì„¤ì • => pom.xml [ê°€ì¥ ì¤‘ìš”]=> BoardController [ @CrossOrigin(origins = "*")
 @RestController @RequestMapping("/api/auth")] í•´ë‹¹ ë¶€ë¶„ì´ ì¤‘ìš”í•¨ token, security ë¶€ë¶„ í™•ì¸=> Board.java=> BoardRepository.java => BoardService.java => BoardSerivceImpl.java


ê²Œì‹œíŒ front ë¶€ë¶„ì…ë‹ˆë‹¤.

AddBoard.jsx => EditBoard.jsx => => viewBoard.jsx => App.js=>   Navbar.js=> Board.service.js
[ê²Œì‹œíŒ ì¶”ê°€]     [ê²Œì‹œíŒ ìˆ˜ì •]        [ê²Œì‹œíŒ ë³´ê¸°]    [í™”ë©´êµ¬ì„±] [header]     [Restapiì—°ê²°=> Springbootì— ìˆëŠ” urlì„ reactë¥¼ ê°€ì ¸ì˜¤ê³ , BaseUrlí˜•íƒœë¡œ ì •ë¦¬]


ê²Œì‹œíŒ ë¦¬ìŠ¤íŠ¸ í˜•íƒœì…ë‹ˆë‹¤. [ ê²€ìƒ‰ ê¸°ëŠ¥ ë° í˜ì´ì§• ê¸°ëŠ¥ì€ ë¦¬ì•¡íŠ¸ ìì²´ì ì¸ ì½”ë“œë¡œ ì²˜ë¦¬ í•˜ì˜€ìŠµë‹ˆë‹¤ ]




![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/b3e7cba6-3abc-43df-8fea-90b77f5c736f)



ê²Œì‹œê¸€ ë“±ë¡ ì…ë‹ˆë‹¤.



![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/2d1e1b2f-7dfb-4d85-9a8b-c7f0f9c0a45a)






ê¸€ ì œëª©ì„ í´ë¦­í•˜ë©´ ViewBoardë¡œ ë“¤ì–´ê°€ì§‘ë‹ˆë‹¤. í•´ë‹¹ ë¶€ë¶„ì— ì‘ì„±ìì´ë©´, ìˆ˜ì • ë° ì‚­ì œê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.


![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/af0a16e8-ad5e-4341-9ed0-3fb8abb164bb)





![image](https://github.com/Hooddduck/BKHJ-frontend/assets/117277093/7dfccc6a-e73f-4a23-a8f7-576f4e8e68de)




====================================================================================================

ìˆ˜ìš”ì¼ê¹Œì§€ ì´ê±° ë³´ê³  ë¬´ì¡°ê±´ ì„¤ì •í•˜ì…ˆ.

1. íŒŒì´ì°¸ ì„¤ì¹˜, [**ì•„ë‚˜ì½˜ë‹¤** ì„¤ì¹˜ ë¬´ì¡°ê±´ ê²½ë¡œ ì˜ í™•ì¸] => íŒŒì´ì°¸ì— file -> settings -> Add Interprter -> Exisiting [ ì•„ë‚˜ì½˜ë‹¤ ë¬´ì¡°ê±´ ì²´í¬ í•˜ê³  ì„¤ì¹˜]

íŒŒì´ì°¸ ë©”ì¸ í™”ë©´ ê°€ì„œ


from flask import Flask, make_response
import requests
import pandas as pd
from urllib.parse import urlencode
import xml.etree.ElementTree as ET
import io

app = Flask(__name__)

@app.route('/api/data', methods=['GET'])
def get_data():
    base_url = 'https://apis.data.go.kr/B553701/LoanProductSearchingInfo/LoanProductSearchingInfo/getLoanProductSearchingInfo'
    service_key = '6N8AyrU0fUoSYr2GUOsvAxlP0HKCse3E4tmVVACTY9CVzngxvmvZuWd%2FcNQGcCmxjQCynXGNhj13jEuR1snJQQ%3D%3D'

    params = {
        'pageNo': '1',
        'numOfRows': '329',
        'type': 'xml',
        'finPrdNm': 'íŒŒì„œ'
    }

    url = f"{base_url}?{urlencode(params)}&serviceKey={service_key}"

    response = requests.get(url, verify=True)
    response.encoding = 'UTF-8'
    contents = response.text

    # XML íŒŒì‹±
    root = ET.fromstring(contents)

    # ì›í•˜ëŠ” í•­ëª©ë“¤
    desired_tags = ['seq', 'finPrdNm', 'usge', 'lnLmt', 'irt', 'maxRdptTrm', 'rdptMthd', 'trgt', 'age', 'incm', 'rsdAreaPamtEqltIstm', 'ofrInstNm', 'cnpl', 'jnMthd', 'ovItrYr', 'rltSite', 'prdOprPrid']

    # XMLì„ JSONìœ¼ë¡œ ë³€í™˜
    json_data = []
    for item in root.iter('item'):
        item_data = {}
        for child in item:
            if child.tag in desired_tags:
                if child.text:
                    item_data[child.tag] = child.text.encode('UTF-8').decode('UTF-8')
                else:
                    item_data[child.tag] = ''
        json_data.append(item_data)

    # JSONì„ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë³€í™˜
    df = pd.DataFrame(json_data)

    # CSV íŒŒì¼ë¡œ ì €ì¥
    csv_data = df.to_csv(index=False, encoding='utf-8-sig')

    # íŒŒì¼ ë‹¤ìš´ë¡œë“œ ì‘ë‹µ ìƒì„±
    response = make_response(csv_data)
    response.headers.set('Content-Type', 'text/csv')
    response.headers.set('Content-Disposition', 'attachment', filename='data.csv')

    return response

if __name__ == '__main__':
    app.run(debug=True)


í•´ë‹¹ ì½”ë“œ ì‘ì„± [ ì‘ì„±í•˜ë©´ ì„¤ì¹˜í•˜ë¼ëŠ” ë¶€ë¶„ì´ ë§ì´ ë‚˜ì˜´ ë‹¤ ì„¤ì¹˜ í•„ìš”]

ì‹¤í–‰í•˜ë©´, http://127.0.0.1:5000/api/data ê²€ìƒ‰ 

csv íŒŒì¼ ìë™ìœ¼ë¡œ ë‹¤ìš´ë¡œë“œ ë¨

ê·¸ ë‹¤ìŒ stepì€ ELK ë“¤ì–´ê°€ì„œ ì£¼ì†Œ: http://localhost:5601/  ì™¼ìª½ ì¹´í…Œê³ ë¦¬ í´ë¦­ -> Kibana -> machinelearning -> Data Visualizer -> Import data [csv íŒŒì¼ ë“±ë¡] -> ê·¸ë¦¬ê³  import ì‹œí‚¤ëŠ”ëŒ€ë¡œ íŒŒì¼ ì´ë¦„ì€ productë¡œ í†µì¼ ë¶€íƒë“œë¦½ë‹ˆë‹¤.

ì´ê²Œ ì™„ë£Œë˜ë©´, react ì½”ë“œ ë“¤ì–´ê°€ì„œ, corsë¥¼ ë¬´ì‹œí•´ì•¼ë˜ì„œ
visualì— í„°ë¯¸ë„ ì¼œì„œ yarn add install http-proxy-middleware 



product.js[ìƒì„±] 

import React, { useEffect, useState } from "react";
import axios from "axios";
import { Link } from "react-router-dom";

const LoanProduct = () => {
  const [loanProducts, setLoanProducts] = useState([]);
  const [searchTerms, setSearchTerms] = useState({
    finPrdNm: "",
    irt: "",
    lnLmt: "",
    usge: "",
    maxRdptTrm: "",
    ofrInstNm: ""
  });
  const [filteredLoanProducts, setFilteredLoanProducts] = useState([]);
  const [currentPage, setCurrentPage] = useState(1);
  const [itemsPerPage, setItemsPerPage] = useState(10);

  useEffect(() => {
    fetchLoanProducts();
  }, []);

  useEffect(() => {
    filterLoanProducts();
  }, [loanProducts, searchTerms]);

  const fetchLoanProducts = async () => {
    try {
      const response = await axios.get('/api');
      const data = response.data.hits.hits.map(hit => hit._source);
      setLoanProducts(data);
    } catch (error) {
      console.error("Error retrieving loan products:", error);
    }
  };

  const filterLoanProducts = () => {
    const filteredProducts = loanProducts.filter(loanProduct => {
      return Object.entries(searchTerms).every(([key, value]) => {
        const fieldValue = loanProduct[key] || "";
        return fieldValue.toLowerCase().includes(value.toLowerCase());
      });
    });
    setFilteredLoanProducts(filteredProducts);
  };

  const handleSearch = (e, field) => {
    setSearchTerms(prevState => ({
      ...prevState,
      [field]: e.target.value
    }));
  };

  const handlePageChange = (pageNumber) => {
    setCurrentPage(pageNumber);
  };

  const renderLoanProducts = () => {
    if (filteredLoanProducts.length === 0) {
      return <p>No loan products found.</p>;
    }

    return currentItems.map((loanProduct) => (
      <div key={loanProduct.seq}>
        <h3>ìƒí’ˆëª…: {loanProduct.finPrdNm}</h3>
        <p>ê¸ˆë¦¬: {loanProduct.irt}</p>
        <p>ëŒ€ì¶œí•œë„: {loanProduct.lnLmt}</p>
        <p>ìš©ë„: {loanProduct.usge}</p>
        <p>ì´ëŒ€ì¶œê¸°ê°„: {loanProduct.maxRdptTrm}</p>
        <p>ì œê³µê¸°ê´€: {loanProduct.ofrInstNm}</p>
        {/* Add more fields as needed */}
        <Link to={`/loan/${loanProduct.seq}`}>
          <button>ìì„¸íˆë³´ê¸°</button>
        </Link>
      </div>
    ));
  };

  // Paginate the loan products based on the current page and items per page
  const indexOfLastItem = currentPage * itemsPerPage;
  const indexOfFirstItem = indexOfLastItem - itemsPerPage;
  const currentItems = filteredLoanProducts.slice(indexOfFirstItem, indexOfLastItem);

  // Calculate total pages for pagination
  const totalPages = Math.ceil(filteredLoanProducts.length / itemsPerPage);

  return (
    <div>
      <h1>Loan Products</h1>
      <div>
        <input
          type="text"
          placeholder="Search by product name"
          value={searchTerms.finPrdNm}
          onChange={e => handleSearch(e, "finPrdNm")}
        />
        <input
          type="text"
          placeholder="Search by interest rate"
          value={searchTerms.irt}
          onChange={e => handleSearch(e, "irt")}
        />
        <input
          type="text"
          placeholder="Search by loan limit"
          value={searchTerms.lnLmt}
          onChange={e => handleSearch(e, "lnLmt")}
        />
        <input
          type="text"
          placeholder="Search by usage"
          value={searchTerms.usge}
          onChange={e => handleSearch(e, "usge")}
        />
        <input
          type="text"
          placeholder="Search by maximum repayment term"
          value={searchTerms.maxRdptTrm}
          onChange={e => handleSearch(e, "maxRdptTrm")}
        />
        <input
          type="text"
          placeholder="Search by offering institution"
          value={searchTerms.ofrInstNm}
          onChange={e => handleSearch(e, "ofrInstNm")}
        />
      </div>
      {renderLoanProducts()}
      <div>
        {/* Render pagination */}
        {Array.from({ length: totalPages }, (_, index) => index + 1).map((page) => (
          <button key={page} onClick={() => handlePageChange(page)}>
            {page}
          </button>
        ))}
      </div>
    </div>
  );
};

export default LoanProduct;


SetupProxy.js [ìƒì„±]

const { createProxyMiddleware } = require('http-proxy-middleware');

module.exports = function(app) {
  app.use(
    '/api',
    createProxyMiddleware({
      target: 'http://localhost:9200', // Replace with your Elasticsearch endpoint
      changeOrigin: true,
      pathRewrite: {
        '^/api': '/product/_doc/_search?size=186' // Replace with your Elasticsearch path
      },
    })
  );
};


ProductService.js [ìƒì„±]

import axios from "axios";

const API_URL = "https://cors-anywhere.herokuapp.com/http://localhost:9200/product/_doc/_search?size=186";

const getProductData = async () => {
  try {
    const response = await axios.get(API_URL);
    return response.data.hits.hits.map(hit => hit._source);
  } catch (error) {
    console.error("Error retrieving data:", error);
    return null;
  }
};

export { getProductData };
















